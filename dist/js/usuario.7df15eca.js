(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuario"],{"6f4c":function(e,t,a){},"9c1c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("data-table-usuarios")},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",{staticClass:"container-table100",staticStyle:{"background-image":"url('/images/bg-02.jpg')",padding:"0px"}},[a("v-container",[a("div",{attrs:{id:"app"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usuarios,"items-per-page":5,loading:e.endCharge,"loading-text":"Cargando... Por favor espere"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("CRUD Usuarios")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Agregar Usuario ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Correo Electronico","auto-grow":""},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{label:"Roles",items:e.roles,"item-value":"item","item-text":"item","return-object":""},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1),-1==e.editedIndex?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Contraseña","auto-grow":"","no-resize":""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("¿Está seguro de que quiere cambiar el estado este usuario?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(t){var i=t.item;return[a("span",{staticClass:"group pa-2"},[i.estado?a("v-icon",{staticClass:"mr-2",attrs:{medium:"",dense:"",color:"#65BB88"}},[e._v(" mdi-account ")]):a("v-icon",{attrs:{medium:"",dense:"",color:"#B86060"}},[e._v(" mdi-account-alert ")])],1)]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{medium:"",dense:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{medium:""},on:{click:function(t){return e.deleteItem(i)}}},[i.estado?[e._v(" mdi-toggle-switch ")]:[e._v(" mdi-toggle-switch-off-outline ")]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.list}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1)])],1)},n=[],l=(a("b0c0"),{data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"ID",value:"id"},{text:"Nombre",align:"start",sortable:!0,value:"name"},{text:"Email",value:"email"},{text:"Rol",value:"rol"},{text:"Estado",value:"estado"},{text:"Acciones",value:"actions",sortable:!1}],usuarios:[],newPassword:"",roles:["Administrador","Vendedor","Almacenista"],rol:"",editedIndex:-1,editedItem:{id:0,name:"",email:"",rol:"",estado:0},defaultItem:{id:0,name:"",email:"",rol:"",estado:0},endCharge:!0}},computed:{formTitle:function(){return-1===this.editedIndex?"Agregar Usuario":"Editar Usuario"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.list()},methods:{getColor:function(e){return 0==e?"red":"green"},list:function(){var e=this;axios.get("/api/usuario/list").then((function(t){e.usuarios=t.data,e.endCharge=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=e.id,this.rol=e?e.rol:"",this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=e.id,this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this,t="activate";this.editedItem.estado&&(t="deactivate"),axios.put("/api/usuario/"+t,{id:this.editedIndex}).then((function(t){e.list()})).catch((function(e){return e})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.rol=""}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.rol=""}))},save:function(){var e=this;this.editedIndex>-1?axios.put("/api/usuario/update",{id:this.editedIndex,name:this.editedItem.name,email:this.editedItem.email,rol:this.rol}).then((function(t){e.list()})).catch((function(e){return e})):axios.post("/api/usuario/add",{name:this.editedItem.name,email:this.editedItem.email,password:this.newPassword,rol:this.rol}).then((function(t){e.list()})).catch((function(e){return e})),this.close()}}}),r=l,d=(a("ac9e"),a("2877")),c=a("6544"),u=a.n(c),m=a("8336"),v=a("b0af"),f=a("99d9"),h=a("62ad"),b=a("a523"),g=a("8fea"),p=a("169a"),x=a("ce7e"),I=a("132d"),k=a("f6c4"),C=a("0fd9"),w=a("b974"),_=a("2fa4"),V=a("8654"),D=a("71d9"),T=a("2a7f"),y=Object(d["a"])(r,s,n,!1,null,"574c9322",null),j=y.exports;u()(y,{VBtn:m["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:h["a"],VContainer:b["a"],VDataTable:g["a"],VDialog:p["a"],VDivider:x["a"],VIcon:I["a"],VMain:k["a"],VRow:C["a"],VSelect:w["a"],VSpacer:_["a"],VTextField:V["a"],VToolbar:D["a"],VToolbarTitle:T["a"]});var E={components:{DataTableUsuarios:j}},O=E,A=Object(d["a"])(O,i,o,!1,null,null,null);t["default"]=A.exports},ac9e:function(e,t,a){"use strict";a("6f4c")}}]);
//# sourceMappingURL=usuario.7df15eca.js.map